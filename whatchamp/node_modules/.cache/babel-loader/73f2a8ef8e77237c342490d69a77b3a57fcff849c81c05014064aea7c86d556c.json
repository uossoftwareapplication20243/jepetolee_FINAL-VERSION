{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Box,Typography,Paper,Grid,CircularProgress}from'@mui/material';import{useLocation}from'react-router-dom';import{theme}from'../App';import{cNameMap}from'../const/championsName';import{positions}from'../const/positions';import{Link}from'react-router-dom';import{useQuestionContext}from'../context/questionContext';import{server_url}from'../const/url';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function get_images(champion_en){return`https://ddragon.leagueoflegends.com/cdn/img/champion/splash/${champion_en}_0.jpg`;}function NewResultPage(){var _positions$idx;const location=useLocation();const{questionMap,line,username,tag}=useQuestionContext();const[championList,setChampionList]=useState([]);const[loading,setLoading]=useState(true);// Loading state\nconst idx=line;useEffect(()=>{setChampionList([]);},[]);useEffect(()=>{async function fetchChampionData(){try{const response=await fetch(url+`/api/new/result`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(questionMap)});if(response.status===200){const data=await response.json();setChampionList(data.champions);}else{console.error('Request failed with status:',response.status);}}catch(error){console.error('Error fetching champions:',error);}}if(username&&tag){fetchChampionData();}},[username,tag,line]);return/*#__PURE__*/_jsx(Box,{sx:{maxWidth:1400,margin:'auto',textAlign:'center',mt:10,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:loading?'center':'flex-start',// Adjust alignment\nminHeight:'80vh'// Ensure space for spinner or content\n},children:loading?/*#__PURE__*/_jsx(CircularProgress,{color:\"secondary\"}):/*#__PURE__*/_jsxs(Box,{sx:{width:'100%'},children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:{textDecoration:'none',color:'inherit'},children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,sx:{fontWeight:'bold'},children:\"\\uC653\\uCC54?\"})}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",gutterBottom:true,children:[username,\" \",tag]}),/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{backgroundColor:theme.palette.primary.main,color:'white',p:3,mt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",gutterBottom:true,sx:{fontWeight:'bold'},children:((_positions$idx=positions[idx])===null||_positions$idx===void 0?void 0:_positions$idx.en)||'Position'}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:5,justifyContent:\"center\",children:championList.map((champion,index)=>/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsx(Box,{component:\"img\",mt:3,sx:{width:600,height:350,backgroundColor:index===2?'#6b1b54':'#1e3a5f',borderRadius:2,mb:1},src:get_images(cNameMap[champion].en),alt:champion}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:champion})]},index))})]})]})});}export default NewResultPage;","map":{"version":3,"names":["React","useEffect","useState","Box","Typography","Paper","Grid","CircularProgress","useLocation","theme","cNameMap","positions","Link","useQuestionContext","server_url","jsx","_jsx","jsxs","_jsxs","get_images","champion_en","NewResultPage","_positions$idx","location","questionMap","line","username","tag","championList","setChampionList","loading","setLoading","idx","fetchChampionData","response","fetch","url","method","headers","body","JSON","stringify","status","data","json","champions","console","error","sx","maxWidth","margin","textAlign","mt","display","flexDirection","alignItems","justifyContent","minHeight","children","color","width","to","style","textDecoration","variant","component","gutterBottom","fontWeight","elevation","backgroundColor","palette","primary","main","p","en","container","spacing","map","champion","index","item","height","borderRadius","mb","src","alt"],"sources":["/home/jepetolee/front_back/whatchamp/src/pages/new_result_page.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Box, Typography, Paper, Grid, CircularProgress } from '@mui/material';\nimport { useLocation } from 'react-router-dom';\nimport { theme } from '../App';\nimport { cNameMap } from '../const/championsName';\nimport { positions } from '../const/positions';\nimport { Link } from 'react-router-dom';\nimport { useQuestionContext } from '../context/questionContext';\nimport { server_url } from '../const/url';\n\nfunction get_images(champion_en) {\n  return `https://ddragon.leagueoflegends.com/cdn/img/champion/splash/${champion_en}_0.jpg`;\n}\n\nfunction NewResultPage() {\n  const location = useLocation();\n  const { questionMap, line, username, tag } = useQuestionContext();\n  const [championList, setChampionList] = useState([]);\n  const [loading, setLoading] = useState(true); // Loading state\n  const idx = line;\n\n  useEffect(() => {\n    setChampionList([]);\n  }, []);\n\n  useEffect(() => {\n    async function fetchChampionData() {\n      try {\n        const response = await fetch(\n          url+`/api/new/result`,\n          { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(questionMap) }\n        );\n\n        if (response.status === 200) {\n          const data = await response.json();\n          setChampionList(data.champions); \n        } else {\n          console.error('Request failed with status:', response.status);\n        }\n      } catch (error) {\n        console.error('Error fetching champions:', error);\n      }\n    }\n\n    if (username && tag) {\n      fetchChampionData();\n    }\n  }, [username, tag, line]);\n\n  return (\n    <Box\n  sx={{\n    maxWidth: 1400,\n    margin: 'auto',\n    textAlign: 'center',\n    mt: 10,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: loading ? 'center' : 'flex-start', // Adjust alignment\n    minHeight: '80vh', // Ensure space for spinner or content\n  }}\n>\n  {loading ? (\n    <CircularProgress color=\"secondary\" />\n  ) : (\n    <Box sx={{ width: '100%' }}>\n      <Link to=\"/\" style={{ textDecoration: 'none', color: 'inherit' }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom sx={{ fontWeight: 'bold' }}>\n          왓챔?\n        </Typography>\n      </Link>\n      <Typography variant=\"subtitle1\" gutterBottom>\n        {username} {tag}\n      </Typography>\n      <Paper\n        elevation={3}\n        sx={{\n          backgroundColor: theme.palette.primary.main,\n          color: 'white',\n          p: 3,\n          mt: 3,\n        }}\n      >\n        <Typography variant=\"h3\" gutterBottom sx={{ fontWeight: 'bold' }}>\n          {positions[idx]?.en || 'Position'}\n        </Typography>\n        <Grid container spacing={5} justifyContent=\"center\">\n          {championList.map((champion, index) => (\n            <Grid item key={index}>\n              <Box\n                component=\"img\"\n                mt={3}\n                sx={{\n                  width: 600,\n                  height: 350,\n                  backgroundColor: index === 2 ? '#6b1b54' : '#1e3a5f',\n                  borderRadius: 2,\n                  mb: 1,\n                }}\n                src={get_images(cNameMap[champion].en)}\n                alt={champion}\n              />\n              <Typography variant=\"h5\">{champion}</Typography>\n            </Grid>\n          ))}\n        </Grid>\n      </Paper>\n    </Box>\n  )}\n</Box>\n  );\n}\n\nexport default NewResultPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}